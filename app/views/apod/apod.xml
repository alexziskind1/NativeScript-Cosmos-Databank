<Page xmlns="http://www.nativescript.org/tns.xsd"
        actionBarHidden="true"
        xmlns:nativescript-fresco="nativescript-fresco" 
        loaded="onPageLoaded" 
        navigatedTo="onPageNavigatedTo">

    <!--<Page.actionBar>
      <ActionBar>
        <ActionBar.titleView>
            <GridLayout >
                <Label text="COSMOS Data Bank" class="action-title"/>
            </GridLayout>
        </ActionBar.titleView>
      </ActionBar>
    </Page.actionBar>-->

    <ScrollView>
        <StackLayout id="pageContainer" class="pageContainer" >
            <Label text="{{ dataItem.title }}" class="title" textWrap="true" />
            <android>
                <nativescript-fresco:FrescoDrawee
                                    imageUri="{{ dataItem.url }}"
                                    placeholderImageUri="res://logo"
                                    actualImageScaleType="centerCrop"                                                           
                                    verticalAlignment="top"
                                    aspectRatio="1.33"
                                    showProgressBar="true"
                                    tapToRetryEnabled="true"
                                    finalImageSet="onFinalImageSet"/>
     
                <GridLayout rows="*" columns="*, *, *, *, *">
                        <Button col="0" text="&#xf053;" id="btn-prev" class="font-awesome" tap="previousDate"  visibility="{{ isItemVisible ? 'visible' : 'collapsed' }}" />
                        <Button col="1" text="&#xf019;" id="btn-save" class="font-awesome"  visibility="{{ isItemVisible ? 'visible' : 'collapsed' }}" /> 
                        <Button col="2" text="&#xf108;" id="btn-desktop" class="font-awesome"  visibility="{{ isItemVisible ? 'visible' : 'collapsed' }}" /> 
                        <Button col="3" text="&#xf1e0;" id="btn-share" class="font-awesome"  visibility="{{ isItemVisible ? 'visible' : 'collapsed' }}" />     
                        <Button col="4" text="&#xf054;" id="btn-next" class="font-awesome" tap="nextDate"  visibility="{{ isItemVisible ? 'visible' : 'collapsed' }}" />   
                </GridLayout>

            </android>

            <ios>
                <StackLayout loaded="onIosStackLoaded" >
                    <Image src="{{ dataItem.url }}" id="ios-image" stretch="fill" />
                    <Button id="tn-share-ios" text="&#xf1e0;" tap="onIosShare" class="share font-awesome" visibility="{{ isItemVisible ? 'visible' : 'collapsed' }}"/>
                </StackLayout>
            </ios>
            
            <TextView text="{{ dataItem.explanation }}" class="description" editable="false" />
            <Label text="{{ dataItem.date }}" class="date" textWrap="true" />     
        </StackLayout>               
        
    </ScrollView>

</Page>