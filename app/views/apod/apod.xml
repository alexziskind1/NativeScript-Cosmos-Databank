<Page xmlns="http://www.nativescript.org/tns.xsd"
        actionBarHidden="true"
        xmlns:nativescript-fresco="nativescript-fresco" 
        loaded="onPageLoaded" 
        navigatedTo="onPageNavigatedTo">

    <ScrollView swipe="onPageSwipe">
        <StackLayout id="pageContainer" class="pageContainer">
            <android>
                <nativescript-fresco:FrescoDrawee
                                    imageUri="{{ dataItem.url }}"
                                    placeholderImageUri="res://logo"
                                    actualImageScaleType="centerCrop"                                                           
                                    verticalAlignment="top"
                                    aspectRatio="1.33"
                                    showProgressBar="true"
                                    tapToRetryEnabled="true"
                                    submit="onSubmit"
                                    finalImageSet="onFinalImageSet" />            
                <GridLayout rows="*" columns="*, *, *, *, *">
                    <Button col="0" text="&#xf053;" id="btn-prev" class="font-awesome" tap="previousDate"  visibility="{{ isItemVisible ? 'visible' : 'collapsed' }}" />
                    <Button col="1" text="&#xf019;" id="btn-save" class="font-awesome"  visibility="{{ isItemVisible ? 'visible' : 'collapsed' }}" /> 
                    <Button col="2" text="&#xf108;" id="btn-desktop" class="font-awesome"  visibility="{{ isItemVisible ? 'visible' : 'collapsed' }}" /> 
                    <Button col="3" text="&#xf1e0;" id="btn-share" class="font-awesome"  visibility="{{ isItemVisible ? 'visible' : 'collapsed' }}" />     
                    <Button col="4" text="&#xf054;" id="btn-next" class="font-awesome" tap="nextDate"  visibility="{{ isItemVisible ? 'visible' : 'collapsed' }}" />   
                </GridLayout>
            </android>

            <ios>
                <StackLayout loaded="onIosStackLoaded" >
                    <Image src="{{ dataItem.url }}" id="ios-image" stretch="fill" />
                    <Button id="tn-share-ios" text="&#xf1e0;" tap="onIosShare" class="share font-awesome" visibility="{{ isItemVisible ? 'visible' : 'collapsed' }}"/>
                </StackLayout>
            </ios>

            <Label text="{{ dataItem.title }}" class="apod-title" textWrap="true" />
            <TextView text="{{ dataItem.explanation }}" class="apod-description" editable="false" />
            <Label text="{{ 'Astronomical photo of ' + dataItem.date }}" class="apod-date" textWrap="true" />     
        </StackLayout>                  
    </ScrollView>
</Page>