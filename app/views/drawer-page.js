"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var drawer_over_navigation_model_1 = require("../view-models/drawer-over-navigation-model");
var permissions = require("nativescript-permissions");
var vm = new drawer_over_navigation_model_1.DrawerOverNavigationModel();
function onPageLoaded(args) {
    var page = args.object;
    var currentUser = page.navigationContext;
    vm.set("currentUser", currentUser);
    page.bindingContext = vm;
}
exports.onPageLoaded = onPageLoaded;
function onPageNavigatedTo(args) {
    var page = args.object;
    permissions.requestPermission([
        "android.permission.INTERNET",
        "android.permission.READ_EXTERNAL_STORAGE",
        "android.permission.WRITE_EXTERNAL_STORAGE",
        "android.permission.SET_WALLPAPER",
        "android.permission.ACCESS_NETWORK_STATE"
    ], "I need these permissions")
        .then(function (res) {
        console.log("Permissions granted!");
    })
        .catch(function () {
        console.log("No permissions - plan B time!");
    });
}
exports.onPageNavigatedTo = onPageNavigatedTo;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHJhd2VyLXBhZ2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJkcmF3ZXItcGFnZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDRGQUF3RjtBQUd4RixJQUFJLFdBQVcsR0FBRyxPQUFPLENBQUMsMEJBQTBCLENBQUMsQ0FBQztBQUV0RCxJQUFJLEVBQUUsR0FBRyxJQUFJLHdEQUF5QixFQUFFLENBQUM7QUFFekMsc0JBQTZCLElBQUk7SUFDN0IsSUFBSSxJQUFJLEdBQVMsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUU3QixJQUFJLFdBQVcsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUM7SUFDekMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFFbkMsSUFBSSxDQUFDLGNBQWMsR0FBRyxFQUFFLENBQUM7QUFDN0IsQ0FBQztBQVBELG9DQU9DO0FBRUQsMkJBQWtDLElBQUk7SUFDbEMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUV2QixXQUFXLENBQUMsaUJBQWlCLENBQUM7UUFDMUIsNkJBQTZCO1FBQzdCLDBDQUEwQztRQUMxQywyQ0FBMkM7UUFDM0Msa0NBQWtDO1FBQ2xDLHlDQUF5QztLQUM1QyxFQUFFLDBCQUEwQixDQUFDO1NBQ3pCLElBQUksQ0FBQyxVQUFVLEdBQUc7UUFDZixPQUFPLENBQUMsR0FBRyxDQUFDLHNCQUFzQixDQUFDLENBQUM7SUFDeEMsQ0FBQyxDQUFDO1NBQ0QsS0FBSyxDQUFDO1FBQ0gsT0FBTyxDQUFDLEdBQUcsQ0FBQywrQkFBK0IsQ0FBQyxDQUFDO0lBQ2pELENBQUMsQ0FBQyxDQUFDO0FBQ1gsQ0FBQztBQWhCRCw4Q0FnQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEcmF3ZXJPdmVyTmF2aWdhdGlvbk1vZGVsIH0gZnJvbSBcIi4uL3ZpZXctbW9kZWxzL2RyYXdlci1vdmVyLW5hdmlnYXRpb24tbW9kZWxcIjtcclxuaW1wb3J0IHsgUGFnZSB9IGZyb20gXCJ1aS9wYWdlXCI7XHJcbmltcG9ydCB7IFVzZXIgfSBmcm9tIFwiLi4vbW9kZWxzL2xvZ2luL3VzZXJcIlxyXG52YXIgcGVybWlzc2lvbnMgPSByZXF1aXJlKFwibmF0aXZlc2NyaXB0LXBlcm1pc3Npb25zXCIpO1xyXG5cclxubGV0IHZtID0gbmV3IERyYXdlck92ZXJOYXZpZ2F0aW9uTW9kZWwoKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBvblBhZ2VMb2FkZWQoYXJncykge1xyXG4gICAgdmFyIHBhZ2UgPSA8UGFnZT5hcmdzLm9iamVjdDtcclxuXHJcbiAgICB2YXIgY3VycmVudFVzZXIgPSBwYWdlLm5hdmlnYXRpb25Db250ZXh0O1xyXG4gICAgdm0uc2V0KFwiY3VycmVudFVzZXJcIiwgY3VycmVudFVzZXIpOyBcclxuICAgICAgXHJcbiAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gdm07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBvblBhZ2VOYXZpZ2F0ZWRUbyhhcmdzKSB7XHJcbiAgICBsZXQgcGFnZSA9IGFyZ3Mub2JqZWN0O1xyXG5cclxuICAgIHBlcm1pc3Npb25zLnJlcXVlc3RQZXJtaXNzaW9uKFtcclxuICAgICAgICBcImFuZHJvaWQucGVybWlzc2lvbi5JTlRFUk5FVFwiLFxyXG4gICAgICAgIFwiYW5kcm9pZC5wZXJtaXNzaW9uLlJFQURfRVhURVJOQUxfU1RPUkFHRVwiLFxyXG4gICAgICAgIFwiYW5kcm9pZC5wZXJtaXNzaW9uLldSSVRFX0VYVEVSTkFMX1NUT1JBR0VcIixcclxuICAgICAgICBcImFuZHJvaWQucGVybWlzc2lvbi5TRVRfV0FMTFBBUEVSXCIsXHJcbiAgICAgICAgXCJhbmRyb2lkLnBlcm1pc3Npb24uQUNDRVNTX05FVFdPUktfU1RBVEVcIlxyXG4gICAgXSwgXCJJIG5lZWQgdGhlc2UgcGVybWlzc2lvbnNcIilcclxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUGVybWlzc2lvbnMgZ3JhbnRlZCFcIik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIHBlcm1pc3Npb25zIC0gcGxhbiBCIHRpbWUhXCIpO1xyXG4gICAgICAgIH0pO1xyXG59XHJcbiJdfQ==