<dpg:DrawerPage xmlns="http://schemas.nativescript.org/tns.xsd"
      xmlns:nativescript-fresco="nativescript-fresco" 
      xmlns:Card="nativescript-cardview"
      xmlns:dpg="nativescript-telerik-ui/sidedrawer/drawerpage"
      xmlns:drawer="nativescript-telerik-ui/sidedrawer"
      xmlns:lv="nativescript-telerik-ui/listview" 
      class="drawer-page"
      loaded="onPageLoaded" 
      navigatedTo="onPageNavigatedTo">

    <dpg:DrawerPage.actionBar>
      <ActionBar class="action-title" >
        <ActionBar.titleView>
            <StackLayout orientation="horizontal">
                <Label text="Explore NASA DataBank" />
            </StackLayout>
        </ActionBar.titleView>
        <ActionItem icon="res://ic_menu" ios.position="right" tap="{{ toggleDrawer }}" />
      </ActionBar>
    </dpg:DrawerPage.actionBar>

    <dpg:DrawerPage.sideDrawer>
        <drawer:RadSideDrawer id="sideDrawer">
            <drawer:RadSideDrawer.drawerContent>
                <StackLayout cssClass="drawerContent">
                    <StackLayout cssClass="headerContent">
                        <Label text="Navigation Menu"/>
                    </StackLayout>
                    <ScrollView>
                        <StackLayout>
                            <Button text="Main Page" tap="{{ goToMainPage }}"  />
                            <Button text="Mars Rovers Photos" tap="{{ goToRoversSelectionPage }}" />
                            <Button text="Astronomy Pic of the Day" tap="{{ goToApod }}" />
                        </StackLayout>
                    </ScrollView>
                </StackLayout>
            </drawer:RadSideDrawer.drawerContent>
        </drawer:RadSideDrawer> 
    </dpg:DrawerPage.sideDrawer>

    <GridLayout id="pageContainer" rows="auto, 3*" columns="*">

        <Label row="0" col="0"  
               text="{{ totalCount == -1 ? 'counting...' : totalCount == 0 && totalCount != -1 ? 'No photos found' : totalCount + ' photos found!' }}" 
               textWrap="true" margin="10"
               color="{{ totalCount == -1 ? 'blue' : totalCount == 0 && totalCount != -1 ? 'red' : 'green' }}"/>  

        <lv:RadListView row="1" col="0" id="rad-list"
                        items="{{ dataItems }}" 
                        class="listview-rovers" 
                        loaded="onListLoaded" 
                        itemTap="onItemTap">
            <lv:RadListView.listViewLayout>
                <lv:ListViewLinearLayout scrollDirection="Vertical"/>
            </lv:RadListView.listViewLayout>
            <lv:RadListView.itemTemplate>
                <Card:CardView class="cardStyle" margin="8" elevation="40" radius="50">
                    <android>
                        <GridLayout rows="auto, *" columns="2*, *">
                            <Label row="0" col="0" text="{{ cameraName }}" class="camera" textWrap="true" />
                            <Label row="0" col="1" text="{{ earthDate }}" class="date" textWrap="true" />
                            <nativescript-fresco:FrescoDrawee row="1" col="0" colSpan="2"
                                                                imageUri="{{ imageUri }}"
                                                                backgroundUri="res://logo"
                                                                actualImageScaleType="centerCrop"                                                           
                                                                verticalAlignment="top"
                                                                aspectRatio="1.5"
                                                                roundedCornerRadius="50"
                                                                roundBottomRight="true"
                                                                roundBottomLeft="true"
                                                                showProgressBar="true"
                                                                tapToRetryEnabled="true"
                                                                finalImageSet="onFinalImageSet"/>
                        </GridLayout>
                    </android>
                    <ios>
                        <GridLayout rows="44, *" columns="2*, *">
                            <Label row="0" col="0" text="{{ cameraName }}" class="camera" textWrap="true" />
                            <Label row="0" col="1" text="{{ earthDate }}" class="date" textWrap="true" />
                            <Image row="1" col="0" colSpan="2"  src="{{ imageUri }}" verticalAlignment="top"/>
                        </GridLayout>
                    </ios>
                </Card:CardView>                                      
            </lv:RadListView.itemTemplate>
        </lv:RadListView>           

    </GridLayout>
    
</dpg:DrawerPage>